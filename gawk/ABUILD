# ABUILD generated by mkpkg_generator.sh

pkgname=gawk
pkgver=4.0.1
pkgbuild=1
arch=("auto")

shortdesc=("gawk (pattern scanning and processing language)")
longdesc=("Gawk is the GNU Project's implementation of the AWK programming language. It conforms to the definition of the language in the POSIX 1003.2 Command Language And Utilities Standard. This version in turn is based on the description in The AWK Programming Language, by Aho, Kernighan, and Weinberger, with the additional features found in the System V Release 4 version of UNIX awk. Gawk also provides more recent Bell Labs awk extensions, and some GNU-specific extensions.")

tags=("base sys-base")

source=("ftp://ftp.gnu.org/pub/gnu/${pkgname}/${pkgname}-${pkgver}.tar.gz")



BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr --libdir=/usr/lib$LIBDIRSUFFIX --mandir=/usr/man --sysconfdir=/etc --libexecdir=/usr/lib${LIBDIRSUFFIX}"
INSTALL_KEYS="DESTDIR=$pkgdir"

after_build() {
	# Slackware build scripts moves these two utilities into /bin, let't preserve this layout for compatibility
	mkdir -p ${pkgdir}/bin
	for i in awk gawk gawk-${pkgver} ; do
		mv ${pkgdir}/usr/bin/$i ${pkgdir}/bin/$i
		ln -sf ../../bin/$i ${pkgdir}/usr/bin/$i
	done
}
