# ABUILD generated by mkpkg_generator.sh

pkgname=ruby
pkgver=1.9.2_p180
pkgbuild=2
arch=("auto")

shortdesc=("ruby (Interpreted object-oriented scripting language)")
longdesc=("Ruby is an interpreted scripting language for quick and easy object-oriented programming. It has many features to process text files and to do system management tasks (as in Perl). It is simple, straight-forward, and extensible. Visit the Ruby project online at http://www.ruby-lang.org/")

tags=("develop dev-ruby")

source=("ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-${pkgver//_/-}.tar.bz2")

pkglist="rubydocs"

BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr \
	--libdir=/usr/lib${LIBDIRSUFFIX} \
	--mandir=/usr/man \
	--docdir=/usr/doc/ruby-${pkgver} \
	--sysconfdir=/etc \
	--enable-shared \
	--enable-pthread \
	--disable-rpath"

INSTALL_KEYS="DESTDIR=$pkgdir"

rubydocs() {
	pkgname=ruby-docs
	shortdesc="Ruby documentation"
	longdesc="Ruby documentation"
	arch="noarch"
}

rubydocs_prep() {
	set -e
	mkdir -p ${pkgdir}/usr
	mv ${p_pkgdir}/usr/doc ${pkgdir}/usr/

	if [ -d ${p_pkgdir}/usr/share/doc ] ; then
		mkdir -p ${pkgdir}/usr/share
		mv ${p_pkgdir}/usr/share/doc ${pkgdir}/usr/share/
	fi
	
	set +e
}
