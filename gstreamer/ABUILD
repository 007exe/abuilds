# ABUILD generated by mkpkg_generator.sh

pkgname=gstreamer
pkgver=0.10.36
pkgbuild=1
arch=('auto')

shortdesc=('GStreamer (streaming multimedia framework)')
longdesc=('GStreamer is a library that allows the construction of graphs of a media-handling components, ranging from simple Ogg/Vorbis playback to complex audio (mixing) and video (non-linear editing) processing. Applications can take advantage of advances in codec and filter technology transparently. Developers can add new codecs and filters by writing a simple plugin with a clean, generic interface. GStreamer is released under the LGPL.')

tags=('libs media-libs')

source=("http://gstreamer.freedesktop.org/src/gstreamer/gstreamer-${pkgver}.tar.xz")

build_deps='aaa_elflibs glibc-solibs libxml2 bison flex'

BUILD_SYSTEM='autotools'

BUILD_KEYS="--prefix=/usr \
	--sysconfdir=/etc \
	--localstatedir=/var \
	--libexecdir=/usr/lib${LIBDIRSUFFIX} \
	--libdir=/usr/lib${LIBDIRSUFFIX} \
	--with-package-name='GStreamer (AgiliaLinux)' \
	--with-package-origin='http://www.agilialinux.ru/' \
	--enable-gtk-doc \
	--disable-static"

INSTALL_KEYS="DESTDIR=${pkgdir}"

after_build(){
  go_src_dir
  make check

  cd "${pkgdir}/usr/bin"
  for bins in `ls *-0.10`; do
      rm -f ${bins/-0.10/}
  done
  echo "End after_build"
}


