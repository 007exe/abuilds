# ABUILD generated by mkpkg_generator.sh

pkgname=xine-lib
pkgver=1.1.21
pkgbuild=1
arch=("auto")

shortdesc=("xine-lib (xine multimedia playback engine libraries)")
longdesc=("xine-lib is a free (GPL licensed) high-performance multimedia playback engine. The xine shared libraries are used by xine-ui (and other media players and multimedia applications) for smooth video processing and playback of multimedia streams such as movies, radio and TV network streams, DVDs, and VCDs.")

tags=("xapps media-video")

# Automatically-generated build_deps. Subject to revision.
build_deps="bzip2 glibc-solibs aalib audiofile expat faad2 lcms libogg libpng ncurses slang1 svgalib wavpack fontconfig esound libmng libtheora libvorbis speex libxcb sdl libXvMC gcc gpm libXv libXrandr libXinerama libXt libXrender libXext libSM libXdmcp libXau libICE fftw libv4l liblqr-1 libX11 flac jack1 libcaca libcdio libffi util-linux-ng freetype xz alsa-lib libtool vcdimager smbclient mesa libgl libjpeg glib2 libav libtiff gdk-pixbuf imagemagick lcms2"

source=("http://downloads.sourceforge.net/sourceforge/xine/${pkgname}-${pkgver}.tar.xz")
gendeps_blacklist=/usr/lib$LIBDIRSUFFIX/xine/plugins/

before_build() {
	echo gendeps_blacklist: $gendeps_blacklist
	go_src_dir
	libtoolize --force --copy
	aclocal -I m4
	autoconf
	automake --add-missing
}

BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr --libdir=/usr/lib${LIBDIRSUFFIX} \
	--with-w32-path=/usr/lib${LIBDIRSUFFIX}/codecs \
	--with-xv-path=/usr/lib${LIBDIRSUFFIX} \
	--with-xxmc-path=/usr/lib${LIBDIRSUFFIX} \
	--with-xvmc-path=/usr/lib${LIBDIRSUFFIX} \
	--with-libflac \
	--with-wavpack \
	--with-xcb \
	--with-speex \
	--disable-gnomevfs \
	--enable-aalib \
	--enable-vdpau \
	--disable-modplug \
	--disable-pulseaudio \
	--with-external-ffmpeg"

INSTALL_KEYS="DESTDIR=$pkgdir"

