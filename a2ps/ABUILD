# ABUILD generated by mkpkg_generator.sh

pkgname=a2ps
pkgver=4.14
pkgbuild=5
arch=("auto")

shortdesc=("a2ps (any to PostScript filter)")
longdesc=("GNU a2ps is an Any to PostScript filter. Of course it processes plain text files, but also pretty prints quite a few popular programming languages. Also contained in this package is psutils, a collection of programs for manipulating PostScript files. a2ps is used by Apsfilter, so be sure to install this package if you plan to do any printing.")

tags=("console net-print")

source=("ftp://ftp.gnu.org/gnu/a2ps/${pkgname}-${pkgver}.tar.gz")

adddep="psutils"

before_build() {
	libtoolize --force --copy || return 1
	autoreconf -I m4 || return 1
}

BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr \
	--libdir=/usr/lib${LIBDIRSUFFIX} \
	--mandir=/usr/man \
	--sysconfdir=/etc/a2ps \
        --includedir=/usr/include \
	--enable-nls"
INSTALL_KEYS="DESTDIR=$pkgdir"
after_build() {
	sed -i "s:^countdictstack: \0:" ${pkgdir}/usr/bin/psset || return 1
}

