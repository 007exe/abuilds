# ABUILD generated by mkpkg_generator.sh

pkgname=cairo
pkgver=1.10.2
pkgbuild=1
arch=('auto')

shortdesc=('cairo (graphics library used by GTK+)')
longdesc=('Cairo is a vector graphics library designed to provide high-quality display and print output. Cairo is designed to produce identical output on all output media while taking advantage of display hardware acceleration when available (eg. through the X Render Extension or OpenGL).')

tags=('libs x11-libs')

source=("http://cairographics.org/releases/cairo-${pkgver}.tar.gz")

before_build() {
	go_src_dir
	 sed -i -e 's/libpng13/libpng12/g' configure || exit 1
	 sed -i -e 's/libpng14/libpng12/g' configure || exit 1
}
# You can try to enable it, but I failed to build with this.
#INSANE_OPTIONS="--enable-drm \
#	--enable-gl \
#	--enable-script \
#	--enable-xcb-drm"

BUILD_SYSTEM='autotools'
BUILD_KEYS="--prefix=/usr \
	--libdir=/usr/lib$LIBDIRSUFFIX \
	--enable-xcb \
	--sysconfdir=/etc \
	--mandir=/usr/man \
	--localstatedir=/var \
	--disable-static \
	--enable-tee \
	--docdir=/usr/doc $INSANE_OPTIONS"

INSTALL_KEYS="DESTDIR=$pkgdir"

